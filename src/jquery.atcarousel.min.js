!function($){$.fn.ATCarousel=function(){function n(n){p={width:v.outerWidth(!1),height:v.outerHeight(!1),circle:!0,buttons:!1,transition:"slideX",speed:500,easing:"swing",autoPlay:!0,hoverStop:!0,step:1,interval:3e3,beforeChange:!1,afterChange:!1},$.extend(p,n[0]),T=v.find("> *").length;var e=v.html();if(v.html(""),v.append('<div class="ATContainer"></div>'),A=v.find(".ATContainer"),A.append(e),C=A.find("> *"),C.addClass("ATitem").css({display:"none"}),C.eq(0).show(0),!A.find(".current").length)for(var r=0;r<p.step;r++)C.eq(r).addClass("current");A.find(".current").each(function(n){$(this).css({"margin-left":p.width*n})}),p.autoPlay&&(a(),p.hoverStop&&(v.on("mouseenter",function(){s()}),v.on("mouseleave",function(){a()}))),i(),t()}function e(){p.width=v.outerWidth(!1),p.height=v.outerHeight(!1)}function t(){$(window).resize(function(){e()})}function i(){function n(n){switch(n){case"transparent":v.append('<a class="ATprevTrans ATprev" href="#"></a><a class="ATnextTrans ATnext" href="#"></a>'),v.find(".ATprevTrans").on("click",function(n){n.preventDefault(),f()}),v.find(".ATnextTrans").on("click",function(n){n.preventDefault(),d()});break;case"arrows":v.find(".ATprevArrow, .ATnextArrow").length||v.append('<a class="ATprevArrow ATprev" href="#"><</a><a class="ATnextArrow ATnext" href="#">></a>'),v.find(".ATprevArrow").on("click",function(n){n.preventDefault(),f()}),v.find(".ATnextArrow").on("click",function(n){n.preventDefault(),d()});break;case"dots":v.append('<div class="ATdots"><div class="ATContainer"></div></div>'),x=v.find(".ATdots .ATContainer");for(var e=0;T>e;e++)x.append('<a href="#" data-slide="'+e+'"></a>');v.find(".ATdots a:first-child").addClass("current"),x.find("a").on("click",function(n){n.preventDefault(),l($(this).data("slide"))})}}if(p.buttons){if("string"==typeof p.buttons&&n(p.buttons),"object"==typeof p.buttons)for(var e in p.buttons)n(p.buttons[e]);p.circle||v.find(".ATprev").fadeOut(0)}}function a(){var n=o().data("interval")?parseInt(o().data("interval")):p.interval;w=setTimeout(function(){d(),a()},n)}function s(){clearInterval(w)}function r(){return arguments.length?C.eq((arguments[0]-p.step+T)%T):C.eq((g-p.step+T)%T)}function o(){return arguments.length?C.eq((arguments[0]+p.step+T)%T):C.eq((g+p.step+T)%T)}function d(){l((g+p.step)%T)}function f(){l((g-p.step+T)%T)}function c(){p.beforeChange&&p.beforeChange()}function u(){p.afterChange&&p.afterChange()}function h(n){var e,t,i,a,s,r,o,d;for(a=A.find(".current"),i=a.index()<n?1:-1,r=C.eq(n),e=0;e<p.step;e++)C.eq((n+e)%T).addClass("next");if(r.show(0),s=A.find(".next"),o=C.eq(n).data("transition")?r.data("transition"):p.transition,d=C.eq(n).data("speed")?parseInt(r.data("speed")):p.speed,a.endTransition=function(){$(this).each(function(n){$(this).removeClass("current")})},s.endTransition=function(){$(this).each(function(n){$(this).removeClass("next").addClass("current")})},"string"==typeof o)switch(o){case"slideX":a.each(function(n){$(this).animate({"margin-left":i*(-$(this).outerWidth(!0)*(p.step-n))+"px"},d,p.easing,function(){a.endTransition()})}),s.each(function(n){$(this).css({"margin-left":i*(p.width*(n+p.step))}),$(this).animate({"margin-left":i*(p.width*n)+"px"},d,p.easing,function(){u($(this)),s.endTransition()})});break;case"xFade":a.fadeOut(500,function(){a.endTransition()}),s.css("display","none").fadeIn(500,function(){s.endTransition()})}else"function"==typeof o&&o(a,s,{direction:i,speed:d});g=n}function l(n){if(!C.is(":animated")){var e=g;if(p.circle){var t=(T+n-g)%T,i=(n-g-T)%T,a=Math.abs(t)<=Math.abs(i)?t:i;g=(T+n)%T}else g=Math.max(0,Math.min(n,T-1)),0>=m&&v.find(".ATprev").fadeIn(),m>=-T&&v.find(".ATprev").fadeOut(),m<=A.width()-p.width*T&&v.find(".ATnext").fadeOut(),m>A.width()-p.width*T&&v.find(".ATnext").fadeIn();c(),v.find(".ATdots a").removeClass("current"),v.find(".ATdots a").eq((g+T)%T).addClass("current"),h(n)}}var p,v=$(this),T=v.find("> *").length,A,g=0,m=0,w,C,x=!1;return v.addClass("ATCarousel"),n(arguments),{config:p,go:l,next:d,prev:f,play:a,stop:s,items:C}}}(jQuery);